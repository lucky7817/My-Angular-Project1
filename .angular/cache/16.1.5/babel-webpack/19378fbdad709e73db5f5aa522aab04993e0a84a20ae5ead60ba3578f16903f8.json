{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let PictureDetailsComponent = class PictureDetailsComponent {\n  constructor(activatedRoute, apiService, authService, router) {\n    this.activatedRoute = activatedRoute;\n    this.apiService = apiService;\n    this.authService = authService;\n    this.router = router;\n    this.isLoading = true;\n  }\n  get isLoggedIn() {\n    return this.authService.isLoggedIn;\n  }\n  ngOnInit() {\n    const url = this.router.routerState.snapshot.url;\n    let regExp = /(\\/[a-zA-Z]*)(\\/[a-zA-Z]*\\/)/gm;\n    const result = regExp.exec(url);\n    // console.log(result);\n    const id = this.activatedRoute.snapshot.params['picId'];\n    // console.log(id);\n    this.apiService.getPicture(result[2], id).subscribe({\n      next: pic => {\n        this.picture = pic;\n        // console.log(this.picture.picCategory);\n      },\n\n      error: err => {\n        console.log(`Error: ${err}`);\n      }\n    });\n  }\n  ngOnDestroy() {\n    // this.router.events.unsubscribe();\n  }\n  addPicToCart(id) {\n    // const url = this.router.routerState.snapshot.url;\n  }\n};\nPictureDetailsComponent = __decorate([Component({\n  selector: 'app-picture-details',\n  templateUrl: './picture-details.component.html',\n  styleUrls: ['./picture-details.component.css']\n})], PictureDetailsComponent);","map":{"version":3,"names":["Component","PictureDetailsComponent","constructor","activatedRoute","apiService","authService","router","isLoading","isLoggedIn","ngOnInit","url","routerState","snapshot","regExp","result","exec","id","params","getPicture","subscribe","next","pic","picture","error","err","console","log","ngOnDestroy","addPicToCart","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\GitHub JS\\My-Angular-Project1\\src\\app\\pictures\\picture-details\\picture-details.component.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, NavigationEnd, Router, RouterEvent } from '@angular/router';\nimport { ApiService } from 'src/app/api.service';\nimport { AuthService } from 'src/app/auth/auth.service';\nimport { LoginComponent } from 'src/app/auth/login/login.component';\nimport { IGetPicture, IPicture } from 'src/app/shared/interfaces';\n\n@Component({\n  selector: 'app-picture-details',\n  templateUrl: './picture-details.component.html',\n  styleUrls: ['./picture-details.component.css']\n})\nexport class PictureDetailsComponent implements OnInit, OnDestroy {\n\n  picture: IPicture | undefined;\n  isLoading: boolean = true;\n\n  routerEvents: any;\n\n  constructor(private activatedRoute: ActivatedRoute, private apiService: ApiService,\n    private authService: AuthService, private router: Router) {\n      \n      \n  }\n\n  get isLoggedIn(): boolean {\n    return this.authService.isLoggedIn;\n  }\n\n  ngOnInit(): void {\n    \n    const url = this.router.routerState.snapshot.url;\n    let regExp = /(\\/[a-zA-Z]*)(\\/[a-zA-Z]*\\/)/gm\n    const result: any = regExp.exec(url)\n    // console.log(result);\n    \n    \n    const id: string = this.activatedRoute.snapshot.params['picId'];\n    // console.log(id);\n    \n             \n  this.apiService.getPicture(result[2], id).subscribe({\n      next: (pic) => {\n      this.picture = pic;\n      // console.log(this.picture.picCategory);\n       \n    },\n    error: (err) => {\n      console.log(`Error: ${err}`);\n    },\n  })\n\n  }\n\n  ngOnDestroy(): void {\n    // this.router.events.unsubscribe();\n  }\n\n  addPicToCart(id) {\n    // const url = this.router.routerState.snapshot.url;\n\n  }\n\n  \n\n  }\n\n"],"mappings":";AAAA,SAASA,SAAS,QAA2B,eAAe;AAYrD,WAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAOlCC,YAAoBC,cAA8B,EAAUC,UAAsB,EACxEC,WAAwB,EAAUC,MAAc;IADtC,KAAAH,cAAc,GAAdA,cAAc;IAA0B,KAAAC,UAAU,GAAVA,UAAU;IAC5D,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IALlD,KAAAC,SAAS,GAAY,IAAI;EAQzB;EAEA,IAAIC,UAAUA,CAAA;IACZ,OAAO,IAAI,CAACH,WAAW,CAACG,UAAU;EACpC;EAEAC,QAAQA,CAAA;IAEN,MAAMC,GAAG,GAAG,IAAI,CAACJ,MAAM,CAACK,WAAW,CAACC,QAAQ,CAACF,GAAG;IAChD,IAAIG,MAAM,GAAG,gCAAgC;IAC7C,MAAMC,MAAM,GAAQD,MAAM,CAACE,IAAI,CAACL,GAAG,CAAC;IACpC;IAGA,MAAMM,EAAE,GAAW,IAAI,CAACb,cAAc,CAACS,QAAQ,CAACK,MAAM,CAAC,OAAO,CAAC;IAC/D;IAGF,IAAI,CAACb,UAAU,CAACc,UAAU,CAACJ,MAAM,CAAC,CAAC,CAAC,EAAEE,EAAE,CAAC,CAACG,SAAS,CAAC;MAChDC,IAAI,EAAGC,GAAG,IAAI;QACd,IAAI,CAACC,OAAO,GAAGD,GAAG;QAClB;MAEF,CAAC;;MACDE,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACC,GAAG,CAAC,UAAUF,GAAG,EAAE,CAAC;MAC9B;KACD,CAAC;EAEF;EAEAG,WAAWA,CAAA;IACT;EAAA;EAGFC,YAAYA,CAACZ,EAAE;IACb;EAAA;CAMD;AArDUf,uBAAuB,GAAA4B,UAAA,EALnC7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,C,EACW/B,uBAAuB,CAqDjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}