{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let AccountComponent = class AccountComponent {\n  constructor(fb, router, authService, activatedRoute) {\n    this.fb = fb;\n    this.router = router;\n    this.authService = authService;\n    this.activatedRoute = activatedRoute;\n    this.showEditMode = false;\n    this.usersDetails = [];\n    this.isLoading = true;\n    // userInfo: IUser | null = null\n    this.userInfo = {\n      userId: '',\n      username: '',\n      firstname: '',\n      secondname: '',\n      lastname: '',\n      email: '',\n      phone: '',\n      country: '',\n      place: '',\n      postcode: '',\n      street: ''\n      // password: '',\n      // rePassword: ''\n    };\n\n    this.form = this.fb.group({\n      username: ['', [Validators.required, Validators.minLength(5)]],\n      firstname: ['', [Validators.required, Validators.minLength(2)]],\n      secondname: ['', [Validators.required, Validators.minLength(2)]],\n      lastname: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.required]],\n      phone: ['', [Validators.required, Validators.minLength(9)]],\n      country: ['', [Validators.required, Validators.minLength(2)]],\n      place: ['', [Validators.required, Validators.minLength(2)]],\n      postcode: ['', [Validators.required, Validators.minLength(2)]],\n      street: ['', [Validators.required, Validators.minLength(3)]]\n    });\n  }\n  get isLoggedIn() {\n    return this.authService.isLoggedIn;\n  }\n  ngOnInit() {\n    this.authService.getUserDetails().subscribe({\n      next: user => {\n        this.usersDetails = user;\n        console.log(this.usersDetails);\n        const indexInArrayLoggedinObjectUser = this.usersDetails.findIndex(x => x.username === this.authService.currentUser);\n        const myUserObj = this.usersDetails[indexInArrayLoggedinObjectUser];\n        for (const key in myUserObj) {\n          if (myUserObj.hasOwnProperty(key)) {\n            if (this.userInfo.hasOwnProperty(key)) {\n              this.userInfo[key] = myUserObj[key];\n            }\n          }\n        }\n        console.log(this.userInfo.userId);\n        this.isLoading = false;\n      },\n      error: err => {\n        this.isLoading = false;\n        console.log(`Error: ${err}`);\n      }\n    });\n  }\n  toggleEditMode() {\n    this.showEditMode = !this.showEditMode;\n  }\n  saveAccount() {\n    if (this.form.invalid) {\n      return;\n    }\n    this.userInfo = {\n      ...this.form.value\n    };\n    this.toggleEditMode();\n  }\n  closeAccountForm() {\n    this.router.navigate([\"/auth/profile\"]);\n  }\n};\nAccountComponent = __decorate([Component({\n  selector: 'app-account',\n  templateUrl: './account.component.html',\n  styleUrls: ['./account.component.css']\n})], AccountComponent);\n// userList: IGetUser | undefined;\n//   isLoading: boolean = true;\n//   constructor(private activatedRoute: ActivatedRoute, private authService: AuthService) {}\n//   ngOnInit(): void {\n//     const id: string = this.activatedRoute.snapshot.params['userId'];\n//     console.log(id);\n//     this.authService.getUser(id)\n//     .subscribe({\n//       next: (user) => {\n//         this.userList = user;\n//         console.log(this.userList);\n//         // this.isLoading = false;\n//       },\n//       error: (err) => {\n//         // this.isLoading = false;\n//         console.log(`Error: ${err}`);\n//       },\n//     })\n//   }","map":{"version":3,"names":["Component","Validators","AccountComponent","constructor","fb","router","authService","activatedRoute","showEditMode","usersDetails","isLoading","userInfo","userId","username","firstname","secondname","lastname","email","phone","country","place","postcode","street","form","group","required","minLength","isLoggedIn","ngOnInit","getUserDetails","subscribe","next","user","console","log","indexInArrayLoggedinObjectUser","findIndex","x","currentUser","myUserObj","key","hasOwnProperty","error","err","toggleEditMode","saveAccount","invalid","value","closeAccountForm","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\GitHub JS\\My-Angular-Project1\\src\\app\\auth\\account\\account.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { Router } from '@angular/router';\nimport { IGetUser, IUser, IUserLog } from 'src/app/shared/interfaces';\nimport { AuthService } from '../auth.service';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-account',\n  templateUrl: './account.component.html',\n  styleUrls: ['./account.component.css']\n})\nexport class AccountComponent implements OnInit {\n\n  showEditMode: boolean = false;\n  usersDetails: IUser[] = [];\n  isLoading: boolean = true;\n  \n\n  // userInfo: IUser | null = null\n\n  userInfo: any = {\n    userId: '',\n    username: '',\n    firstname: '',\n    secondname: '',\n    lastname: '',\n    email: '',\n    phone: '',\n    country: '',\n    place: '',\n    postcode: '',\n    street: '',\n    // password: '',\n    // rePassword: ''\n  };\n  \n  form = this.fb.group({\n    username: ['', [Validators.required, Validators.minLength(5)]],\n    firstname: ['', [Validators.required, Validators.minLength(2)]],\n    secondname: ['', [Validators.required, Validators.minLength(2)]],\n    lastname: ['', [Validators.required, Validators.minLength(2)]],\n    email: ['', [Validators.required]],\n    phone: ['', [Validators.required, Validators.minLength(9)]],\n    country: ['', [Validators.required, Validators.minLength(2)]],\n    place: ['', [Validators.required, Validators.minLength(2)]],\n    postcode: ['', [Validators.required, Validators.minLength(2)]],\n    street: ['', [Validators.required, Validators.minLength(3)]],\n  });\n  \n\n  constructor(private fb: FormBuilder, private router: Router,\n  private authService: AuthService, private activatedRoute: ActivatedRoute) {\n    \n  }\n\n  get isLoggedIn(): boolean {\n    return this.authService.isLoggedIn;\n  }\n\n  ngOnInit(): void {\n\n    this.authService.getUserDetails()\n    .subscribe({\n      next: (user) => {\n        this.usersDetails= user;\n        console.log(this.usersDetails);\n        const indexInArrayLoggedinObjectUser = this.usersDetails.findIndex(x => \n          x.username === this.authService.currentUser);\n\n          const myUserObj: any = this.usersDetails[indexInArrayLoggedinObjectUser];\n          \n          for(const key in myUserObj) {\n            if (myUserObj.hasOwnProperty(key)) {\n              if(this.userInfo.hasOwnProperty(key)) {\n                this.userInfo[key] = (myUserObj[key]);\n              }\n            }\n          }\n          console.log(this.userInfo.userId);\n\n          \n        this.isLoading = false;\n      },\n      error: (err) => {\n        this.isLoading = false;\n        console.log(`Error: ${err}`);\n      },\n    })\n     \n  }\n\n  toggleEditMode(): void {\n    this.showEditMode = !this.showEditMode;\n  }\n\n  saveAccount(): void {\n    if (this.form.invalid) { return; }\n\n    this.userInfo = { ...this.form.value } as IUser;\n\n    this.toggleEditMode();\n  }\n\n  closeAccountForm(): void {\n    this.router.navigate([\"/auth/profile\"]);\n  }\n}\n\n\n// userList: IGetUser | undefined;\n//   isLoading: boolean = true;\n\n//   constructor(private activatedRoute: ActivatedRoute, private authService: AuthService) {}\n\n//   ngOnInit(): void {\n//     const id: string = this.activatedRoute.snapshot.params['userId'];\n//     console.log(id);\n\n//     this.authService.getUser(id)\n//     .subscribe({\n//       next: (user) => {\n//         this.userList = user;\n//         console.log(this.userList);\n//         // this.isLoading = false;\n//       },\n//       error: (err) => {\n//         // this.isLoading = false;\n//         console.log(`Error: ${err}`);\n//       },\n//     })\n//   }\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}